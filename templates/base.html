<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Epidemic Monitoring{% endblock %}</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Leaflet.js -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

    <!-- Custom CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/main.css') }}"
    />

    {% block head %}{% endblock %}
  </head>
  <body class="bg-gray-50 min-h-screen flex flex-col">
    <!-- Navigation -->
    <nav class="bg-blue-600 text-white shadow-md">
      <div
        class="container mx-auto px-4 py-3 flex justify-between items-center"
      >
        <a href="{{ url_for('index') }}" class="text-xl font-bold"
          >Epidemic Monitoring</a
        >

        <div class="flex space-x-4">
          {% if current_user.is_authenticated %}
          <a href="{{ url_for('dashboard') }}" class="hover:underline"
            >Dashboard</a
          >
          <a href="{{ url_for('upload') }}" class="hover:underline">Upload</a>
          <a href="{{ url_for('logout') }}" class="hover:underline">Logout</a>
          {% else %}
          <a href="{{ url_for('login') }}" class="hover:underline">Login</a>
          <a href="{{ url_for('signup') }}" class="hover:underline">Sign Up</a>
          {% endif %}
        </div>
      </div>
    </nav>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %} {% if messages %}
    <div class="container mx-auto px-4 mt-4">
      {% for message in messages %}
      <div
        class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4"
        role="alert"
      >
        <p>{{ message }}</p>
      </div>
      {% endfor %}
    </div>
    {% endif %} {% endwith %}

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 flex-grow">
      {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6">
      <div class="container mx-auto px-4">
        <p class="text-center">
          &copy; 2025 Epidemic Monitoring. All rights reserved.
        </p>
      </div>
    </footer>

    <!-- Custom JS -->
    {% block scripts %}{% endblock %}
  </body>
</html>
